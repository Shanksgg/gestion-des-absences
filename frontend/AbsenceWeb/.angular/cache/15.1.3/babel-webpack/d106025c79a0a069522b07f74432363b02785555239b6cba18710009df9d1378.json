{"ast":null,"code":"import _asyncToGenerator from \"D:/Files/EMSI/S9/JEE/gestion-des-absences/frontend/AbsenceWeb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { KeycloakAuthGuard } from 'keycloak-angular';\nlet GuardsComponent = class GuardsComponent extends KeycloakAuthGuard {\n  constructor(router, keycloak) {\n    super(router, keycloak);\n    this.router = router;\n    this.keycloak = keycloak;\n  }\n  iAccessAllowed(route, state) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.authenticated) {\n        yield _this.keycloak.login({\n          redirectUri: window.location.origin + state.url\n        });\n      }\n    })();\n  }\n};\nGuardsComponent = __decorate([Component({\n  selector: 'app-guards',\n  templateUrl: './guards.component.html',\n  styleUrls: ['./guards.component.css']\n})], GuardsComponent);\nexport { GuardsComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,iBAAiB,QAAyB,kBAAkB;AAO9D,IAAMC,eAAe,GAArB,MAAMA,eAAgB,SAAQD,iBAAiB;EACpDE,YACgCC,MAAc,EACvBC,QAAyB;IAE5C,KAAK,CAACD,MAAM,EAAEC,QAAQ,CAAC;IAHK,WAAM,GAAND,MAAM;IACf,aAAQ,GAARC,QAAQ;EAG/B;EAEaC,cAAc,CACvBC,KAA6B,EAC7BC,KAA0B;IAAA;IAAA;MAE5B,IAAG,CAAC,KAAI,CAACC,aAAa,EAAE;QACtB,MAAM,KAAI,CAACJ,QAAQ,CAACK,KAAK,CAAC;UACxBC,WAAW,EAAEC,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGN,KAAK,CAACO;SAC7C;;IACF;EACH;CACD;AAlBYb,eAAe,eAL3BF,SAAS,CAAC;EACTgB,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,GACWhB,eAAe,CAkB3B;SAlBYA,eAAe","names":["Component","KeycloakAuthGuard","GuardsComponent","constructor","router","keycloak","iAccessAllowed","route","state","authenticated","login","redirectUri","window","location","origin","url","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\Files\\EMSI\\S9\\JEE\\gestion-des-absences\\frontend\\AbsenceWeb\\src\\app\\guards\\guards.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { KeycloakAuthGuard, KeycloakService } from 'keycloak-angular'\n\n@Component({\n  selector: 'app-guards',\n  templateUrl: './guards.component.html',\n  styleUrls: ['./guards.component.css']\n})\nexport class GuardsComponent extends KeycloakAuthGuard{\n  constructor(\n      protected override readonly router: Router,\n      protected readonly keycloak: KeycloakService\n  ) {\n      super(router, keycloak);\n  }\n\n  public async iAccessAllowed(\n      route: ActivatedRouteSnapshot,\n      state: RouterStateSnapshot\n  ) {\n    if(!this.authenticated) {\n      await this.keycloak.login({\n        redirectUri: window.location.origin + state.url\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}