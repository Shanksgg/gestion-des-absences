{"ast":null,"code":"import _asyncToGenerator from \"D:/Files/EMSI/S9/JEE/gestion-des-absences/frontend/AbsenceWeb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nexport class KeycloakSecurityService {\n  constructor() {}\n  init() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      console.log(\"sec initialliser\");\n      _this.kc = new Keycloak({\n        url: \"http://localhost:8888\",\n        realm: \"school_attendance\",\n        clientId: \"Absence-Client\"\n      });\n      yield _this.kc.init({\n        //onLoad: 'login-required',\n        onLoad: 'check-sso'\n      });\n      console.log(_this.kc.token);\n    })();\n  }\n}\nKeycloakSecurityService.ɵfac = function KeycloakSecurityService_Factory(t) {\n  return new (t || KeycloakSecurityService)();\n};\nKeycloakSecurityService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: KeycloakSecurityService,\n  factory: KeycloakSecurityService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAOA,OAAM,MAAOA,uBAAuB;EAGlCC,eAAgB;EACVC,IAAI;IAAA;IAAA;MACRC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/B,KAAI,CAACC,EAAE,GAAG,IAAIC,QAAQ,CAAC;QACrBC,GAAG,EAAC,uBAAuB;QAC3BC,KAAK,EAAE,mBAAmB;QAC1BC,QAAQ,EAAE;OACX,CAAC;MACF,MAAM,KAAI,CAACJ,EAAE,CAACH,IAAI,CAAC;QACjB;QACFQ,MAAM,EAAE;OAGP,CAAC;MACFP,OAAO,CAACC,GAAG,CAAC,KAAI,CAACC,EAAE,CAACM,KAAK,CAAC;IAAA;EAC5B;;AAlBWX,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;SAAvBA,uBAAuB;EAAAY,SAAvBZ,uBAAuB;EAAAa,YAFtB;AAAM","names":["KeycloakSecurityService","constructor","init","console","log","kc","Keycloak","url","realm","clientId","onLoad","token","factory","providedIn"],"sourceRoot":"","sources":["D:\\Files\\EMSI\\S9\\JEE\\gestion-des-absences\\frontend\\AbsenceWeb\\src\\app\\services\\keycloak-security.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport  {KeycloakInstance} from \"keycloak-js\";\n\ndeclare var  Keycloak :any;\n@Injectable({\n  providedIn: 'root'\n})\nexport class KeycloakSecurityService {\n  public kc! :KeycloakInstance;\n\n  constructor() { }\n  async init() {\n    console.log(\"sec initialliser\");\n    this.kc = new Keycloak({\n      url:\"http://localhost:8888\",\n      realm: \"school_attendance\",\n      clientId: \"Absence-Client\"\n    })\n    await this.kc.init({\n      //onLoad: 'login-required',\n    onLoad: 'check-sso',\n\n\n    });\n    console.log(this.kc.token)\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}